<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2025 ISC ëŒ€ë§Œ ì—¬í–‰</title>
  <script>
    const isMobile = /Mobi|Android/i.test(navigator.userAgent);
    const cssFile = isMobile ? 'css/mobile.css' : 'css/desktop.css';
    document.write(`<link rel="stylesheet" href="${cssFile}">`);
  </script>
</head>
<body>
  <div class="container">
    <header>
      <img src="./assets/images/logo.png" alt="íšŒì‚¬ ë¡œê³ " class="logo" />
      <h1>2025 ISC ëŒ€ë§Œ ì—¬í–‰</h1>
      <p class="subtitle">2026.03.11 ~ 03.14 Â· ì¸ì¹´ê¸ˆìœµì„œë¹„ìŠ¤</p>
    </header>

    <section id="loginSection">
      <p>ì‚¬ë²ˆì„ ì…ë ¥í•˜ì„¸ìš”:</p>
      <input type="text" id="employeeId" placeholder="ì˜ˆ: 1612156">
      <button onclick="login()">ë¡œê·¸ì¸</button>
      <p id="loginError" class="error"></p>
    </section>

    <section id="mainMenu" style="display:none;">
      <p><strong id="employeeName"></strong> ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!</p>
      <div class="menu">
        <button onclick="showSection('schedule')">ğŸ—“ ì—¬í–‰ ì¼ì •</button>
        <button onclick="showSection('flight')">âœˆï¸ í•­ê³µí¸ ì •ë³´</button>
        <button onclick="showSection('highlights')">ğŸ“ ì£¼ìš” ê´€ê´‘ì§€</button>
        <button onclick="showSection('optionalTour')">ğŸ›€ ì„ íƒ ê´€ê´‘</button>
        <button onclick="showSection('dinner')">ğŸ½ ë§Œì°¬ ì•ˆë‚´</button>
        <button onclick="showSection('request')">âœï¸ ìš”ì²­ì‚¬í•­</button>
        <button onclick="showSection('emergency')">ğŸ“ ê¸´ê¸‰ ì—°ë½ë§</button>
      </div>

      <div id="schedule" class="section">
        <h2>ğŸ—“ ì „ì²´ ì—¬í–‰ ì¼ì •</h2>
        <ul style="text-align: left;">
          <li>ğŸ“ 1ì¼ì°¨: ì¤‘ì •ê¸°ë…ë‹¹, ê³ ê¶ë°•ë¬¼ê´€, íƒ€ì´ë² ì´ 101 ì „ë§ëŒ€, ì•¼ì‹œì¥</li>
          <li>ğŸ“ 2ì¼ì°¨: ì„ íƒê´€ê´‘ & ì¸ì¹´ ë§Œì°¬</li>
          <li>ğŸ“ 3ì¼ì°¨: ì•¼ë¥˜ í•´ì•ˆê³µì›, ìŠ¤í€ ì²œë“±, ì§€ìš°í€</li>
          <li>ğŸ“ 4ì¼ì°¨: ê·€êµ­ (ì˜¤ì „ ì²´í¬ì•„ì›ƒ í›„ ê³µí•­ ì´ë™)</li>
        </ul>
      </div>

      <div id="flight" class="section">
        <h2>âœˆï¸ í•­ê³µí¸ ì •ë³´</h2>
        <p id="flightInfo">í•­ê³µí¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
      </div>

      <div id="highlights" class="section">
        <h2>ğŸ“ ì£¼ìš” ê´€ê´‘ì§€</h2>
        <ul style="text-align: left;">
          <li>íƒ€ì´ë² ì´ 101</li>
          <li>ê³ ê¶ë°•ë¬¼ê´€</li>
          <li>ì¤‘ì •ê¸°ë…ë‹¹</li>
          <li>ì•¼ë¥˜ í•´ìƒê³µì›</li>
          <li>ì§€ìš°í€</li>
          <li>ìŠ¤í€ ì²œë“± ë‚ ë¦¬ê¸°</li>
        </ul>
      </div>

      <div id="optionalTour" class="section">
        <h2>ğŸ›€ ì„ íƒ ê´€ê´‘</h2>
        <p><strong>1ì•ˆ</strong>: í‹°ì—”ë¼ì´ ì˜¨ì²œìš•<br><strong>2ì•ˆ</strong>: ë‹¨ìˆ˜ì´ íˆ¬ì–´</p>
      </div>

      <div id="dinner" class="section">
        <h2>ğŸ½ ì¸ì¹´ ë§Œì°¬ ì•ˆë‚´</h2>
        <p>2ì¼ì°¨ ì˜¤í›„ 6ì‹œ Â· í•„ìˆ˜ ì°¸ì„</p>
      </div>

      <div id="request" class="section">
        <h2>âœï¸ ìš”ì²­ ì‚¬í•­</h2>
        <textarea id="requestText" placeholder="ì˜ˆ: ê¸°ë‚´ì‹, ê°ì‹¤ ìš”ì²­ ë“±"></textarea><br>
        <button onclick="submitRequest()">ì œì¶œ</button>
        <p id="submitMessage" class="success"></p>
      </div>

      <div id="emergency" class="section">
        <h2>ğŸ“ ê¸´ê¸‰ ì—°ë½ë§</h2>
        <p>í˜„ì§€ ê°€ì´ë“œ: +886 912 345 678<br>í•œêµ­ ë‹´ë‹¹ì: 010-1234-5678</p>
      </div>
    </section>
  </div>

  <script>
    let employeeData = [];
    let currentUser = null;

    // JSON íŒŒì¼ ë¡œë”©
    fetch("people/employees.json?ts=" + Date.now())
      .then(res => res.json())
      .then(data => { employeeData = data; });

    function login() {
      const id = document.getElementById("employeeId").value.trim();
      const matched = employeeData.find(emp => emp.id === id);
      if (matched) {
        currentUser = matched;
        document.getElementById("employeeName").textContent = matched.name;
        document.getElementById("loginSection").style.display = "none";
        document.getElementById("mainMenu").style.display = "block";
      } else {
        document.getElementById("loginError").textContent = "ë“±ë¡ë˜ì§€ ì•Šì€ ì‚¬ë²ˆì…ë‹ˆë‹¤.";
      }
    }

    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
      document.getElementById(id).style.display = 'block';

      // í•­ê³µí¸ ì •ë³´ ì¶œë ¥
      if (id === 'flight' && currentUser && currentUser.flight) {
        document.getElementById("flightInfo").textContent = currentUser.flight;
      }
    }

    function submitRequest() {
      if (!currentUser) return;
      const request = document.getElementById("requestText").value.trim();
      if (!request) return alert("ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");

      const endpoint = "https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec"; // ì—¬ê¸°ì— ë³¸ì¸ URL
      fetch(endpoint, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ id: currentUser.id, name: currentUser.name, request })
      });

      document.getElementById("submitMessage").textContent = "ìš”ì²­ì‚¬í•­ì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!";
      document.getElementById("requestText").value = "";
    }
  </script>
</body>
</html>
