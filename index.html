<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2025 ISC ëŒ€ë§Œ ì—¬í–‰</title>

  <!-- ğŸ”’ ìºì‹œ ë¬´ë ¥í™” (CSS ë§í¬ë§Œ ìˆ˜ì •) -->
  <link rel="stylesheet" href="css/base.css?v=20260115-1">
  <link rel="stylesheet" href="css/desktop.css?v=20260115-1" media="(min-width: 768px)">
  <link rel="stylesheet" href="css/mobile.css?v=20260115-1" media="(max-width: 767px)">
</head>
<body>

<!-- ================= HEADER ================= -->
<header class="header compact" id="topHeader">
  <div class="header-left">
    <img src="assets/images/logo.png" class="logo">
    <div>
      <h1>2025 ISC ëŒ€ë§Œ ì—¬í–‰</h1>
      <p class="sub">2026.03.11 ~ 03.14 | ì¸ì¹´ê¸ˆìœµì„œë¹„ìŠ¤</p>
    </div>
  </div>

  <!-- âœ… ìš°ì¸¡ í™˜ì˜ ì˜ì—­ -->
  <div class="header-right">
    <p class="congrats">ISC ë‹¬ì„±ì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤.</p>
    <p class="welcome-text"><strong id="employeeName"></strong> ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤</p>
  </div>
</header>

<!-- ================= LOGIN (FINAL / DO NOT TOUCH) ================= -->
<section id="loginSection" class="login-hero">
  <div class="hero-overlay">
    <div class="login-box">
      <img src="assets/images/logo.png" class="hero-logo">
      <h2>2025 ISC Taiwan</h2>
      <p class="hero-desc">ì‚¬ë²ˆìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”</p>

      <input type="text" id="employeeId" placeholder="ì‚¬ë²ˆ ì…ë ¥">
      <button class="primary-btn" onclick="login()">ë¡œê·¸ì¸</button>
      <p id="loginError" class="error"></p>
    </div>
  </div>
</section>

<!-- ================= MAIN (LOGIN AFTER) ================= -->
<main id="mainSection" class="main-bg" style="display:none;">

  <p class="welcome"><strong id="employeeName"></strong> ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤</p>

  <div class="layout">

    <!-- ===== LEFT MENU ===== -->
    <aside class="side-menu">
      <button onclick="openPage('schedule')">ğŸ—“ ì—¬í–‰ ì¼ì •</button>
      <button onclick="openPage('flight')">âœˆï¸ í•­ê³µí¸ ì •ë³´</button>
      <button onclick="openPage('taiwan')">ğŸ‡¹ğŸ‡¼ ëŒ€ë§Œì˜ ëª¨ë“  ê²ƒ</button>
      <button onclick="openPage('myTour')">ğŸ’ ë‚˜ì˜ ì„ íƒ ê´€ê´‘</button>
      <button onclick="openPage('dinner')">ğŸ½ ë§Œì°¬ ì•ˆë‚´</button>
      <button onclick="openPage('request')">ğŸ“ ìš”ì²­ì‚¬í•­</button>
      <button onclick="openPage('contact')">ğŸ“ ê¸´ê¸‰ ì—°ë½ë§</button>
    </aside>

    <!-- ===== RIGHT CONTENT ===== -->
    <section class="content-area">

      <!-- ê¸°ë³¸: í¬ìŠ¤í„° -->
      <div id="posterArea" class="poster">
        <img src="assets/images/iscposter.jpg" alt="ISC Poster">
      </div>

      <!-- ë©”ë‰´ í´ë¦­ ì‹œ -->
      <section id="detailPage" class="detail" style="display:none;">
        <h2 id="detailTitle"></h2>
        <div id="detailContent"></div>

        <div class="nav-buttons">
          <button class="ghost-btn" onclick="goHome()">í™ˆìœ¼ë¡œ</button>
          <button class="ghost-btn" onclick="goBack()">ë’¤ë¡œê°€ê¸°</button>
        </div>
      </section>

    </section>

  </div>
</main>

<script>
/* ================= ê³µí†µ ================= */
let employees = [];
let currentUser = null;

fetch("people/employees.json?ts=" + Date.now())
  .then(res => res.json())
  .then(data => employees = data);

function login() {
  const id = document.getElementById("employeeId").value.trim();
  const user = employees.find(e => e.id === id);

  if (!user) {
    document.getElementById("loginError").textContent = "ë“±ë¡ë˜ì§€ ì•Šì€ ì‚¬ë²ˆì…ë‹ˆë‹¤.";
    return;
  }

  currentUser = user;

  document.getElementById("loginSection").style.display = "none";
  document.getElementById("topHeader").style.display = "flex";
  document.getElementById("mainSection").style.display = "block";
  document.getElementById("employeeName").textContent = user.name;

  document.body.classList.add("logged-in");
}

/* ================= ì—¬í–‰ ì¼ì • ë°ì´í„° ================= */
const travelSchedule = [
  {
    day: "DAY 1",
    date: "2026.03.11 (ìˆ˜)",
    title: "ì¸ì²œ â†’ íƒ€ì´ë² ì´ / ì‹œë‚´ í•˜ì´ë¼ì´íŠ¸",
    items: [
      { time:"08:00", icon:"âœˆï¸", title:"ì¸ì²œ êµ­ì œê³µí•­ ì¶œë°œ", desc:"OZ 711 / KE 2021" },
      { time:"12:30", icon:"ğŸœ", title:"ì¤‘ì‹ | ìš°ìœ¡ë©´", desc:"í˜„ì§€ ì¸ê¸° ì¤‘ì‹ë‹¹" },
      { time:"14:00", icon:"ğŸ›ï¸", title:"ì¤‘ì •ê¸°ë…ë‹¹", desc:"ì¥ê°œì„ ì´í†µ ê¸°ë…ê´€" },
      { time:"15:30", icon:"ğŸº", title:"êµ­ë¦½ê³ ê¶ë°•ë¬¼ê´€", desc:"ì„¸ê³„ 4ëŒ€ ë°•ë¬¼ê´€" },
      { time:"18:30", icon:"ğŸ½ï¸", title:"ì„ì‹ | íƒ€ì¹´ì˜¤ ìƒ¤ë¸Œìƒ¤ë¸Œ", desc:"í˜„ì§€ì‹" },
      { time:"20:00", icon:"ğŸŒƒ", title:"íƒ€ì´ë² ì´ 101 ì „ë§ëŒ€", desc:"ì•¼ê²½ ê´€ëŒ" }
    ]
  }
];

/* ================= í˜ì´ì§€ ì—´ê¸° ================= */
function openPage(type) {
  document.getElementById("posterArea").style.display = "none";
  document.getElementById("detailPage").style.display = "block";

  const t = document.getElementById("detailTitle");
  const c = document.getElementById("detailContent");

  if (type === "schedule") {
    t.textContent = "ğŸ—“ ì—¬í–‰ ì¼ì •";
    c.innerHTML = travelSchedule.map(day => `
      <div class="day-card">
        <h3>${day.day} <span>${day.date}</span></h3>
        <p class="day-title">${day.title}</p>
      </div>
    `).join("");
  }

  if (type === "flight") {
    t.textContent = "âœˆï¸ í•­ê³µí¸ ì •ë³´";
    c.innerHTML = `<div class="card">${currentUser.flight}</div>`;
  }
}

function goHome() {
  document.getElementById("detailPage").style.display = "none";
  document.getElementById("posterArea").style.display = "block";
}

function goBack(){ goHome(); }
</script>

</body>
</html>
