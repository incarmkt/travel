<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2025 ISC ëŒ€ë§Œ ì—¬í–‰</title>

  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/desktop.css">
  <link rel="stylesheet" href="css/mobile.css">
</head>
<body>

<!-- ================= HEADER ================= -->
<header class="header" id="topHeader" style="display:none;">
  <img src="assets/images/logo.png" class="logo">
  <div>
    <h1>2025 ISC ëŒ€ë§Œ ì—¬í–‰</h1>
    <p class="sub">2026.03.11 ~ 03.14 | ì¸ì¹´ê¸ˆìœµì„œë¹„ìŠ¤</p>
  </div>
</header>

<!-- ================= LOGIN ================= -->
<section id="loginSection" class="login-hero">
  <div class="hero-overlay">
    <div class="login-box">
      <img src="assets/images/logo.png" class="hero-logo">
      <h2>2025 ISC Taiwan</h2>
      <p class="hero-desc">ì‚¬ë²ˆìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”</p>

      <input type="text" id="employeeId" placeholder="ì‚¬ë²ˆ ì…ë ¥">
      <button class="primary-btn" onclick="login()">ë¡œê·¸ì¸</button>
      <p id="loginError" class="error"></p>
    </div>
  </div>
</section>

<!-- ================= MAIN (IMAGE BG ê³ ì •) ================= -->
<main id="mainSection" class="main-bg" style="display:none;">
  <div class="bg-image"></div>
  <div class="bg-overlay"></div>

  <div class="content slide-in" id="homeContent">
    <p class="welcome">
      <strong id="employeeName"></strong> ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤
    </p>

    <div class="menu">
      <button onclick="openPage('schedule')">ğŸ—“ ì—¬í–‰ ì¼ì •</button>
      <button onclick="openPage('flight')">âœˆï¸ í•­ê³µí¸ ì •ë³´</button>
      <button onclick="openPage('taiwan')">ğŸ‡¹ğŸ‡¼ ëŒ€ë§Œì˜ ëª¨ë“  ê²ƒ</button>
      <button onclick="openPage('myTour')">ğŸ’ ë‚˜ì˜ ì„ íƒ ê´€ê´‘</button>
      <button onclick="openPage('dinner')">ğŸ½ ë§Œì°¬ ì•ˆë‚´</button>
      <button onclick="openPage('request')">ğŸ“ ìš”ì²­ì‚¬í•­</button>
      <button onclick="openPage('contact')">ğŸ“ ê¸´ê¸‰ ì—°ë½ë§</button>
    </div>
  </div>
</main>

<!-- ================= DETAIL (ìŠ¬ë¼ì´ë“œ) ================= -->
<section id="detailPage" class="detail slide-hidden">
  <h2 id="detailTitle"></h2>
  <div id="detailContent"></div>

  <div class="nav-buttons">
    <button class="ghost-btn" onclick="goHome()">í™ˆìœ¼ë¡œ</button>
  </div>
</section>

<script>
let employees = [];
let currentUser = null;

fetch("people/employees.json?ts=" + Date.now())
  .then(res => res.json())
  .then(data => employees = data);

function login() {
  const id = document.getElementById("employeeId").value.trim();
  const user = employees.find(e => e.id === id);
  if (!user) {
    document.getElementById("loginError").textContent = "ë“±ë¡ë˜ì§€ ì•Šì€ ì‚¬ë²ˆì…ë‹ˆë‹¤.";
    return;
  }
  currentUser = user;
  document.getElementById("loginSection").style.display = "none";
  document.getElementById("topHeader").style.display = "flex";
  document.getElementById("mainSection").style.display = "block";
  document.getElementById("employeeName").textContent = user.name;
}

const travelSchedule = [ /* ê¸°ì¡´ ê·¸ëŒ€ë¡œ */ ];

function openPage(type) {
  const home = document.getElementById("homeContent");
  const detail = document.getElementById("detailPage");

  home.classList.remove("slide-in");
  home.classList.add("slide-out");

  setTimeout(() => {
    document.getElementById("mainSection").style.display = "none";
    detail.style.display = "block";
    detail.classList.remove("slide-hidden");
    detail.classList.add("slide-in");

    const t = document.getElementById("detailTitle");
    const c = document.getElementById("detailContent");

    if (type === "schedule") {
      t.textContent = "ğŸ—“ ì—¬í–‰ ì¼ì •";
      c.innerHTML = travelSchedule.map(day => `
        <div class="day-card">
          <h3>${day.day} <span>${day.date}</span></h3>
          <p class="day-title">${day.title}</p>
        </div>
      `).join("");
    }

    if (type === "flight") {
      t.textContent = "âœˆï¸ í•­ê³µí¸ ì •ë³´";
      c.innerHTML = `<div class="card">${currentUser.flight}</div>`;
    }

    if (type === "myTour") {
      t.textContent = "ğŸ’ ë‚˜ì˜ ì„ íƒ ê´€ê´‘";
      c.innerHTML = `<div class="card"><ul>
        ${(currentUser.myTour || []).map(t => `<li>${t}</li>`).join("")}
      </ul></div>`;
    }

    if (type === "taiwan") {
      t.textContent = "ğŸ‡¹ğŸ‡¼ ëŒ€ë§Œì˜ ëª¨ë“  ê²ƒ";
      c.innerHTML = `<div class="card">ëŒ€ë§Œ ê¸°ë³¸ ì •ë³´ ì•ˆë‚´</div>`;
    }

    if (type === "dinner") {
      t.textContent = "ğŸ½ ë§Œì°¬ ì•ˆë‚´";
      c.innerHTML = `<div class="card">ISC ê³µì‹ ë§Œì°¬</div>`;
    }

    if (type === "request") {
      t.textContent = "ğŸ“ ìš”ì²­ì‚¬í•­";
      c.innerHTML = `<div class="card">
        <textarea placeholder="ìš”ì²­ì‚¬í•­ ì…ë ¥"></textarea>
        <button class="primary-btn">ì œì¶œ</button>
      </div>`;
    }

    if (type === "contact") {
      t.textContent = "ğŸ“ ê¸´ê¸‰ ì—°ë½ë§";
      c.innerHTML = `<div class="card">í˜„ì§€ ë‹´ë‹¹ì ì•ˆë‚´</div>`;
    }
  }, 300);
}

function goHome() {
  const home = document.getElementById("homeContent");
  const detail = document.getElementById("detailPage");

  detail.classList.remove("slide-in");
  detail.classList.add("slide-out");

  setTimeout(() => {
    detail.style.display = "none";
    document.getElementById("mainSection").style.display = "block";

    home.classList.remove("slide-out");
    home.classList.add("slide-in");
  }, 300);
}
</script>

</body>
</html>
