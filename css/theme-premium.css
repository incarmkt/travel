/* =================================================
   THEME PREMIUM – FINAL (HOME + FULL PAGE DETAIL)
   ✅ 기능 유지 / 중복·충돌 정리본
================================================= */

/* ================= RESET / BASE ================= */
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont,
               "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
  overflow-x: hidden;
}

/* ================= BACKGROUND ================= */
body:not(.logged-in) {
  background: url("../assets/images/main-bg.jpg") center / cover no-repeat fixed;
}
body.logged-in {
  background: url("../assets/images/photo2.jpg") center / cover no-repeat fixed;
}

/* ================= HEADER ================= */
.header {
  position: relative;          /* fixed ❌ */
  inset: auto;
  z-index: 10;

  padding: 24px 20px 12px;

  display: flex;
  justify-content: space-between;
  align-items: flex-start;

  background: transparent;
  backdrop-filter: none;
}

@media (max-width: 767px) {
  .header {
    flex-direction: row;
    align-items: flex-start;
  }
  .header-left h1 {
    font-size: 18px;
    margin: 6px 0 4px;
  }
  .header-left .sub {
    font-size: 13px;
    opacity: .9;
  }
  .header-right {
    text-align: right;
    font-size: 13px;
  }
}

/* =================================================
   HOME (INTRO + MENU)
================================================= */

/* 홈 뷰 기본 */
.home-view {
  padding-top: 0;
  overflow: visible;
  background: transparent;
}

@media (max-width: 767px) {
  /* 기존에 있던 모바일 상단 여백 유지 */
  .home-view { padding-top: 40px; }
}

/* HERO */
.home-hero {
  margin: 48px auto 22px;
  width: min(92vw, 720px);
  color: #fff;
  text-shadow: 0 8px 22px rgba(0,0,0,0.35);

  /* HERO AS HEADER에서 쓰던 값 유지 */
  position: relative;
  z-index: 5;
  padding: 24px 20px 32px;
}

@media (max-width: 767px) {
  .home-hero { padding-top: 16px; }
}

/* 타이포 */
.home-title { margin: 0; font-size: 44px; }
.home-sub { margin-top: 10px; font-size: 18px; }

.hero-copy {
  margin-top: 28px;
  transition: opacity 320ms ease, transform 320ms ease;
  will-change: opacity, transform;
}
.hero-copy.is-hidden {
  opacity: 0;
  transform: translateY(-12px);
}
@media (max-width: 767px) {
  .hero-copy { margin-top: 20px; }
}

/* HERO 내부 레이아웃 */
.hero-info {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 12px 20px;
  align-items: start;
}

/* MENU GRID */
.home-menu {
  margin: 0 auto;
  width: min(92vw, 720px);
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-auto-flow: row dense;
  gap: 14px;
}

.home-menu button {
  height: 76px;
  border: 0;
  border-radius: 26px;
  padding: 0 18px;
  display: flex;
  align-items: center;

  font-size: 20px;
  font-weight: 800;
  color: #fff;

  background: rgba(200,200,200,.42);
  backdrop-filter: blur(14px);
}

/* ‘대만의 모든 것’ */
.home-menu button:first-child {
  grid-column: 1 / -1;
  height: 96px;
}

/* =================================================
   DETAIL SHEET (MOBILE BOTTOM SHEET + DESKTOP MODAL)
================================================= */

/* Overlay */
.detail-sheet {
  position: fixed;
  inset: 0;
  z-index: 2000;

  background: rgba(0,0,0,0.35);
  opacity: 0;
  pointer-events: none;

  transition: opacity 280ms ease;
}

body.detail-open .detail-sheet {
  opacity: 1;
  pointer-events: auto;
}

body.detail-open {
  overflow: hidden;
}

/* Sheet body */
.detail-sheet__inner {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;

  background: #fff;
  border-radius: 22px 22px 0 0;

  overflow: hidden;

  display: flex;
  flex-direction: column;

  transform: translateY(100%);
  transition: transform 360ms cubic-bezier(.25,.8,.25,1);
}

body.detail-open .detail-sheet__inner {
  transform: translateY(0);
}

/* 내부 영역 */
#detailTitle {
  margin: 0;
  padding: 20px 20px 12px;
  font-size: 20px;
  font-weight: 800;
}

#detailContent {
  flex: 1;
  overflow-y: auto;
  padding: 0 20px 24px;
  -webkit-overflow-scrolling: touch;
}

/* 하단 버튼 */
.nav-buttons {
  padding: 14px 20px 20px;
  border-top: 1px solid #eee;
  display: flex;
  gap: 10px;
}

/* ✅ 모바일 풀스크린 디테일 유지 */
@media (max-width: 767px) {
  .detail-sheet__inner {
    height: 100dvh;
    max-height: none;
    border-radius: 0;
  }
}

/* =================================================
   DETAIL CONTENT NORMALIZE
================================================= */
.detail-content-wrap {
  width: 100%;
  max-width: 920px;
  margin: 0 auto;
  padding: 0 16px 24px;
}

@media (min-width: 768px) {
  .detail-content-wrap {
    max-width: 960px;
    padding: 0 24px 40px;
  }
}

/* =================================================
   DESKTOP MODE (DETAIL MODAL)
================================================= */
@media (min-width: 768px) {

  .detail-sheet {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .detail-sheet__inner {
    position: relative;
    left: auto;
    right: auto;
    bottom: auto;

    width: min(960px, 92vw);
    max-height: 86vh;

    border-radius: 24px;

    transform: translateY(40px);
    opacity: 0;

    transition:
      transform 360ms cubic-bezier(.25,.8,.25,1),
      opacity 280ms ease;
  }

  body.detail-open .detail-sheet__inner {
    transform: translateY(0);
    opacity: 1;
  }

  #detailTitle {
    font-size: 24px;
    padding: 24px 28px 14px;
  }

  #detailContent { padding: 0 28px 32px; }
  .nav-buttons  { padding: 16px 28px 24px; }
}

/* =================================================
   DESKTOP TUNING (HOME)
================================================= */
@media (min-width: 768px) {

  .home-hero { width: min(86vw, 860px); }
  .home-title { font-size: 56px; }

  .home-menu {
    width: min(86vw, 860px);
    gap: 18px;
  }

  .home-menu button {
    height: 86px;
    font-size: 22px;
  }

  .home-menu button:first-child { height: 120px; }
}

/* =================================================
   FORCE OVERRIDE MOBILE HOME (mobile.css 무력화)
   ✅ 홈 메뉴 위치/높이만 강제 복구 (기능 유지)
================================================= */
@media (max-width: 767px) {

  .home-menu-wrap,
  .home-menu {
    position: static !important;
    height: auto !important;
    min-height: unset !important;
    transform: none !important;
    top: auto !important;
    bottom: auto !important;
    left: auto !important;
    right: auto !important;
  }

  .home-menu {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    grid-auto-flow: row dense !important;
    gap: 14px !important;
  }

  .home-menu button:first-child {
    grid-column: 1 / -1 !important;
    height: 96px !important;
  }
}

/* =================================================
   DESKTOP SCROLL UNLOCK
   ✅ 데스크탑에서만 적용 (모바일 스냅/스크롤 충돌 방지)
================================================= */
@media (min-width: 768px) {
  html, body {
    height: auto !important;
    min-height: 100% !important;
    overflow-y: auto !important;
  }

  #mainSection {
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
  }

  .main-bg, .home-view, #homeView {
    overflow: visible !important;
  }

  body.logged-in {
    overflow-y: auto !important;
  }
}

/* =================================================
   HOME INTRO → MENU SCROLL FLOW (스냅)
================================================= */

/* 인트로 */
.home-intro {
  height: 100vh;
  min-height: 100svh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;

  overflow: hidden;
}

/* 스테이지 */
.intro-stage {
  height: 100vh;
  position: sticky;
  top: 0;

  display: flex;
  flex-direction: column;
  justify-content: space-between;

  padding: 48px 32px;
  box-sizing: border-box;

  transition: transform 0.9s cubic-bezier(.25,.8,.25,1);
}

body.intro-passed .intro-stage {
  transform: translateY(-100%);
}

/* 메뉴 섹션 */
.home-menu-section {
  position: relative;
  z-index: 1;
  margin-top: 100vh;
  padding: 48px 0 96px;
}

/* 스크롤 힌트 */
.scroll-hint {
  position: absolute;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 14px;
  color: #fff;
  opacity: .85;
  letter-spacing: -0.2px;
  animation: scrollHint 1.6s ease-in-out infinite;
  pointer-events: none;
}

@keyframes scrollHint {
  0%   { transform: translate(-50%, 0); }
  50%  { transform: translate(-50%, -8px); }
  100% { transform: translate(-50%, 0); }
}

/* 모바일 스냅: mainSection 스크롤 담당 유지 */
@media (max-width: 767px) {

  #mainSection {
    height: 100dvh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: y mandatory;
  }

  .home-intro,
  .home-menu-section {
    min-height: 100dvh !important;
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }

  .home-intro {
    padding: 64px 20px 24px !important;
    color: #fff !important;
    text-shadow: 0 8px 22px rgba(0,0,0,0.35);
  }

  .home-intro .scroll-hint {
    bottom: 18px;
    color: rgba(255,255,255,0.9) !important;
  }

  .home-menu-section {
    padding: 24px 0 80px !important;
  }

  .home-menu,
  .home-menu button {
    color: #fff !important;
  }
}

/* =================================================
   MOBILE TYPOGRAPHY TUNING (INTRO TEXT)
================================================= */
@media (max-width: 767px) {

  .home-title {
    font-size: 32px;
    line-height: 1.25;
    letter-spacing: -0.5px;
    word-break: keep-all;
    text-align: center;
  }

  .home-sub {
    font-size: 15px;
    line-height: 1.55;
    letter-spacing: -0.2px;
    word-break: keep-all;
    text-align: center;
  }

  .home-sub + .home-sub { margin-top: 6px; }

  .hero-copy {
    margin-top: 18px;
    text-align: center;
  }

  .hero-copy .home-title { font-size: 30px; }
  .hero-copy .home-sub { font-size: 14px; opacity: 0.9; }
}

/* =================================================
   MOBILE – DETAIL RESET (기존 모바일 느낌 복구)
   ✅ 디테일 열릴 때 글씨/배경 흰색/검정으로 복귀
================================================= */
@media (max-width: 767px) {

  body.detail-open {
    color: #111;
    background: #f6f7fb;
  }

  .detail-sheet__inner {
    background: #fff;
    color: #111;
  }

  #detailTitle,
  #detailContent {
    color: inherit;
  }
}
/* =================================================
   MOBILE FIX – HOME FIRST SCREEN 깨짐 해결 (핵심)
   ✔ 기능 유지 / ✔ 구조 유지
================================================= */
@media (max-width: 767px) {

  /* 1️⃣ 모바일에서는 sticky 해제 (snap과 충돌 방지) */
  .intro-stage {
    position: relative !important;
    height: auto !important;
    transform: none !important;
  }

  /* 2️⃣ 첫 화면 잘림 방지 */
  .home-intro {
    overflow: visible !important;
    height: 100dvh !important;
    min-height: 100dvh !important;
  }
}
/* 하단 네비 버튼 완전 제거 */
.nav-buttons {
  display: none !important;
}
/* 디테일 상단 헤더 */
.detail-header {
  position: sticky;
  top: 0;
  z-index: 20;

  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: 14px 16px;
  background: #fff;

  border-bottom: 1px solid #eee;
}

/* 제목 */
.detail-title {
  font-size: 18px;
  font-weight: 800;
}

/* 버튼 영역 */
.detail-actions {
  display: flex;
  gap: 8px;
}

/* 버튼 스타일 */
.detail-actions button {
  padding: 6px 12px;
  border-radius: 14px;
  border: 1px solid #ddd;
  background: #fff;
  font-size: 13px;
  font-weight: 600;
}
.detail-sheet {
  position: fixed;
  inset: 0;
  z-index: 2000;
}

.detail-dim {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.35);
}

.detail-sheet__inner {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  background: #fff;
}

.home-intro {
  height: 100dvh;
}

.intro-stage {
  position: relative;
  height: 100%;
  padding: 24px 20px;
}

/* 상단 */
.intro-top {
  position: absolute;
  top: 24px;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
}

/* 중앙 */
.intro-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* 하단 */
.intro-bottom {
  position: absolute;
  bottom: 32px;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
}

